<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>è§£å†³Vueé¡¹ç›®çƒ­æ›´æ–°æ‰“åŒ…æ—¶é—´è¿‡é•¿</title><meta name="description" content="ğŸ¯ ğŸ¯ ğŸ¯ ğŸ¯ ğŸ¯"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="ç»´æŠ¤å…¬å¸ä¸€ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°åœ¨é¡¹ç›®å¯åŠ¨ã€çƒ­æ›´æ–°å’Œæ‰“åŒ…é¡¹ç›®çš„æ—¶å€™ï¼Œæ—¶é—´é•¿çš„â€œæ„Ÿäººâ€ã€‚

å½“ä½ æ”¹åŠ¨é¡¹ç›®çš„ä¸€äº›åœ°æ–¹æƒ³è¦ç«‹å³çœ‹åˆ°æ•ˆæœçš„æ—¶å€™ï¼Œå´å‘ç°çƒ­æ›´æ–°çš„ç¼–è¯‘è¿‡ç¨‹å´èŠ±äº†ä½ å¾ˆé•¿æ—¶é—´ï¼Œâ€œå¿ƒæ€å´©äº†ã€‚ã€‚ã€‚â€ã€‚
1ã€è§£å†³Vueé¡¹ç›®çƒ­æ›´æ–°æ‰“åŒ…æ—¶é—´è¿‡é•¿è§£å†³æ–¹æ³•ï¼š
1ã€ä½¿ç”¨html-webpack-plugin-for-multihtmlæ’ä»¶
2ã€åœ¨build-webpack.dev.conf.jsæ–‡ä»¶ä¸­
    const HtmlWebpackPlugin = require(&amp;#39;html-webpack-plugin&amp;#39;);
    // æ›¿æ¢æˆ
    const HtmlWebpackPlugin = require(&amp;#39;html-webpack-plugin-for-multihtml&amp;#39;);
.."><meta name="generator" content="Hexo 5.4.1"></head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Jude's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">è§£å†³Vueé¡¹ç›®çƒ­æ›´æ–°æ‰“åŒ…æ—¶é—´è¿‡é•¿</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">ç‚¹å‡»è¿”å›é¡¶éƒ¨</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">é¦–é¡µ</a></h3><h3 class="is-inline-block"><a href="/about">å…³äº</a></h3><h3 class="is-inline-block"><a href="/archives">å½’æ¡£</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">é¦–é¡µ</a></h3><h3 class="is-inline-block"><a href="/about">å…³äº</a></h3><h3 class="is-inline-block"><a href="/archives">å½’æ¡£</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E8%A7%A3%E5%86%B3Vue%E9%A1%B9%E7%9B%AE%E7%83%AD%E6%9B%B4%E6%96%B0%E6%89%93%E5%8C%85%E6%97%B6%E9%97%B4%E8%BF%87%E9%95%BF"><span class="toc-text">1ã€è§£å†³Vueé¡¹ç›®çƒ­æ›´æ–°æ‰“åŒ…æ—¶é—´è¿‡é•¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E7%94%B14M%E5%8F%98%E4%B8%BA1M"><span class="toc-text">2ã€é¡¹ç›®æ‰“åŒ…ç”±4Må˜ä¸º1M</span></a></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/dev"><i class="tag post-item-tag">dev</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">è§£å†³Vueé¡¹ç›®çƒ­æ›´æ–°æ‰“åŒ…æ—¶é—´è¿‡é•¿</h1><time class="has-text-grey" datetime="2019-12-11T12:00:00.000Z">2019-12-11</time><article class="mt-2 post-content"><p>ç»´æŠ¤å…¬å¸ä¸€ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°åœ¨é¡¹ç›®å¯åŠ¨ã€çƒ­æ›´æ–°å’Œæ‰“åŒ…é¡¹ç›®çš„æ—¶å€™ï¼Œæ—¶é—´é•¿çš„â€œæ„Ÿäººâ€ã€‚</p>
<span id="more"></span>
<p>å½“ä½ æ”¹åŠ¨é¡¹ç›®çš„ä¸€äº›åœ°æ–¹æƒ³è¦ç«‹å³çœ‹åˆ°æ•ˆæœçš„æ—¶å€™ï¼Œå´å‘ç°çƒ­æ›´æ–°çš„ç¼–è¯‘è¿‡ç¨‹å´èŠ±äº†ä½ å¾ˆé•¿æ—¶é—´ï¼Œâ€œå¿ƒæ€å´©äº†ã€‚ã€‚ã€‚â€ã€‚</p>
<h3 id="1ã€è§£å†³Vueé¡¹ç›®çƒ­æ›´æ–°æ‰“åŒ…æ—¶é—´è¿‡é•¿"><a href="#1ã€è§£å†³Vueé¡¹ç›®çƒ­æ›´æ–°æ‰“åŒ…æ—¶é—´è¿‡é•¿" class="headerlink" title="1ã€è§£å†³Vueé¡¹ç›®çƒ­æ›´æ–°æ‰“åŒ…æ—¶é—´è¿‡é•¿"></a>1ã€è§£å†³Vueé¡¹ç›®çƒ­æ›´æ–°æ‰“åŒ…æ—¶é—´è¿‡é•¿</h3><p>è§£å†³æ–¹æ³•ï¼š</p>
<p>1ã€ä½¿ç”¨html-webpack-plugin-for-multihtmlæ’ä»¶</p>
<p>2ã€åœ¨build-webpack.dev.conf.jsæ–‡ä»¶ä¸­</p>
<pre><code class="js">    const HtmlWebpackPlugin = require(&#39;html-webpack-plugin&#39;);
    // æ›¿æ¢æˆ
    const HtmlWebpackPlugin = require(&#39;html-webpack-plugin-for-multihtml&#39;);
</code></pre>
<p>3ã€multihtmlCache:true  è§£å†³å¤šé¡µçƒ­éƒ¨ç½²çš„å…³é”®</p>
<pre><code class="js">for (var pathname in pages) &#123;
  // é…ç½®ç”Ÿæˆçš„htmlæ–‡ä»¶ï¼Œå®šä¹‰è·¯å¾„ç­‰
  var conf = &#123;
    filename: pathname + &#39;.html&#39;,
    template: pages[pathname],   // æ¨¡æ¿è·¯å¾„
    inject: true,              // jsæ’å…¥ä½ç½®
    multihtmlCache: true,    // è§£å†³å¤šé¡µçƒ­éƒ¨ç½²çš„å…³é”® è¿™é‡Œè¿™é‡Œè¿™é‡Œè¿™é‡Œè¿™é‡Œå¾ˆé‡è¦ï¼ï¼ï¼
    // necessary to consistently work with multiple chunks via CommonsChunkPlugin
    chunksSortMode: &#39;dependency&#39;
  &#125;;

  if (pathname in devWebpackConfig.entry) &#123;
    conf.chunks = [&#39;manifest&#39;,&#39;vendor&#39;, pathname];
    conf.hash = false;
  &#125;
  devWebpackConfig.plugins.push(new HtmlWebpackPlugin(conf));
&#125;
</code></pre>
<p>4ã€router.jsä¸­ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½</p>
<p>è¿™æ—¶å€™å†å¯åŠ¨é¡¹ç›®ï¼Œçƒ­æ›´æ–°ã€ç¼–è¯‘å’Œæ‰“åŒ…çš„é€Ÿåº¦ä¼šå¤§å¤§æå‡ã€‚</p>
<h3 id="2ã€é¡¹ç›®æ‰“åŒ…ç”±4Må˜ä¸º1M"><a href="#2ã€é¡¹ç›®æ‰“åŒ…ç”±4Må˜ä¸º1M" class="headerlink" title="2ã€é¡¹ç›®æ‰“åŒ…ç”±4Må˜ä¸º1M"></a>2ã€é¡¹ç›®æ‰“åŒ…ç”±4Må˜ä¸º1M</h3><p>å…¬å¸æœ‰ä¸€ä¸ªH5å¾®ä¿¡å…¬ä¼—å·ç½‘é¡µçš„é¡¹ç›®ï¼Œé¡¹ç›®æ‰“åŒ…ä¹‹åæ–‡ä»¶æœ‰4Mï¼›</p>
<p>ä¿®æ”¹webpack.prod.conf.jsé‡Œçš„UglifyJsPluginï¼Œè¿™é‡Œçš„æ„æ€æ˜¯æ‰“åŒ…åä¸äº§ç”Ÿåç¼€åä¸º.mapçš„æ–‡ä»¶ã€‚</p>
<pre><code class="javascript">webpack.prod.conf.js
    new UglifyJsPlugin(&#123;
      uglifyOptions: &#123;
        compress: &#123;
          warnings: false
        &#125;
      &#125;,
      // sourceMap: config.build.productionSourceMap, å°†è¿™è¡Œä»£ç æ³¨é‡Šæ‰ã€‚
      parallel: true
    &#125;)
</code></pre>
<p>å¤„ç†åæ‰“åŒ…çš„æ–‡ä»¶çš„å¤§å°ä¸º1M</p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2019/12/20/h5-scan/" title="h5æ‰«ç åŠŸèƒ½"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">ä¸Šä¸€é¡µ: h5æ‰«ç åŠŸèƒ½</span></a><a class="button is-default" href="/2019/12/05/markdown/" title="markdownè¯­æ³•"><span class="has-text-weight-semibold">ä¸‹ä¸€é¡µ: markdownè¯­æ³•</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/Jude"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><!-- çŸ¥ä¹--><!-- é¢†è‹±--><!-- è„¸ä¹¦--></section><p><span>Copyright Â©</span><span> Jude 2022</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/post.js"></script></body></html>